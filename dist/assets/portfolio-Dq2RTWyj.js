(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();window.addEventListener("DOMContentLoaded",function(){console.log("🚀 포트폴리오 시작!"),d(),p(),f(),h(),g(),m(),y(),w(),b(),E()});function d(){const e=document.getElementById("particles"),t=e.getContext("2d"),s=[];let n=window.innerWidth<768?25:50;function o(){e.width=window.innerWidth,e.height=window.innerHeight}o(),window.addEventListener("resize",o);for(let i=0;i<n;i++)s.push({x:Math.random()*e.width,y:Math.random()*e.height,size:Math.random()*2+1,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5});function r(){t.clearRect(0,0,e.width,e.height),s.forEach(function(i){i.x+=i.speedX,i.y+=i.speedY,(i.x<0||i.x>e.width)&&(i.speedX*=-1),(i.y<0||i.y>e.height)&&(i.speedY*=-1),t.beginPath(),t.arc(i.x,i.y,i.size,0,Math.PI*2),t.fillStyle="rgba(184, 133, 133, 0.5)",t.fill()}),requestAnimationFrame(r)}r()}function p(){if(window.innerWidth<1024)return;const e=document.querySelector(".cursor");e&&document.addEventListener("mousemove",function(t){e.style.left=t.clientX+"px",e.style.top=t.clientY+"px"})}function f(){const e=["사용자 경험을 중요하게 생각하는 프론트엔드 개발자입니다.","탄탄한 HTML CSS JAVASCRIPT 코딩","React와 Next.js로 인터랙티브한 웹을 만듭니다.","GSAP와 Canvas로 역동적인 UI를 구현합니다."];let t=0,s=0,n=!1;const o=100,r=2e3,i=document.getElementById("typing-text");if(!i)return;function c(){const l=e[t];let a=n?l.substring(0,s--):l.substring(0,s++);if(i.textContent=a,!n&&s>l.length){n=!0,setTimeout(c,r);return}else n&&s<0&&(n=!1,t=(t+1)%e.length);setTimeout(c,o)}c()}function h(){const e=document.getElementById("time");if(!e)return;function t(){const s=new Date,n=String(s.getHours()).padStart(2,"0"),o=String(s.getMinutes()).padStart(2,"0");e.textContent=n+":"+o}t(),setInterval(t,3e4)}function g(){const e=document.getElementById("weather");if(!e)return;const t="fa3c1cfce09a282722c00663c8c0272d";console.log("API 키 로드 성공!"),e.textContent="날씨 불러오는 중...",navigator.geolocation.getCurrentPosition(function(n){s(n.coords.latitude,n.coords.longitude)},function(){e.textContent="📍 위치 권한을 허용해주세요"});function s(n,o){const r=`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${o}&appid=${t}&units=metric&lang=kr`;fetch(r).then(function(i){if(!i.ok)throw new Error(`HTTP ${i.status}`);return i.json()}).then(function(i){console.log("날씨 데이터 로드 성공!");const c=Math.round(i.main.temp),l=i.weather[0].description;e.textContent=`🌤️ ${c}°C ${l}`}).catch(function(i){console.error("날씨 API 에러:",i),e.textContent="❌ 날씨를 불러올 수 없어요"})}}function m(){const e=document.querySelector(".menu-btn"),t=document.querySelector(".nav-menu");if(!e||!t){console.log("메뉴 요소를 찾을 수 없습니다.");return}console.log("모바일 메뉴 초기화 완료"),e.addEventListener("click",function(s){s.preventDefault(),s.stopPropagation(),t.classList.toggle("active"),e.classList.toggle("active"),console.log("메뉴 토글:",t.classList.contains("active"))}),document.querySelectorAll(".nav-menu a").forEach(function(s){s.addEventListener("click",function(){t.classList.remove("active"),e.classList.remove("active"),console.log("메뉴 닫기")})}),document.addEventListener("click",function(s){!e.contains(s.target)&&!t.contains(s.target)&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"),console.log("외부 클릭으로 메뉴 닫기"))}),window.addEventListener("resize",function(){window.innerWidth>768&&(t.classList.remove("active"),e.classList.remove("active"))})}function y(){document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();const s=this.getAttribute("href"),n=document.querySelector(s);n&&window.scrollTo({top:n.offsetTop-70,behavior:"smooth"})})})}function w(){if(typeof gsap>"u"){console.log("GSAP가 로드되지 않았습니다. 기본 애니메이션을 사용합니다."),v();return}gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".skill-progress").forEach(function(t){const s=t.getAttribute("data-width"),n=t.closest(".skill-card");gsap.to(t,{scrollTrigger:{trigger:n,start:"top 80%"},width:s+"%",duration:1.5,ease:"power2.out"}),n.addEventListener("mouseenter",function(){gsap.to(t,{width:"100%",duration:.8,ease:"power2.out"})}),n.addEventListener("mouseleave",function(){gsap.to(t,{width:s+"%",duration:.6,ease:"power2.out"})})}),document.querySelectorAll(".skill-card, .career-item, .project-card").forEach(function(t){gsap.from(t,{scrollTrigger:{trigger:t,start:"top 90%"},opacity:0,y:40,duration:.8,ease:"power2.out"})})}function v(){const e={threshold:.1,rootMargin:"0px 0px -50px 0px"},t=new IntersectionObserver(function(n){n.forEach(function(o){if(o.isIntersecting){o.target.style.opacity="1",o.target.style.transform="translateY(0)";const r=o.target.querySelector(".skill-progress");if(r){const i=r.getAttribute("data-width");setTimeout(()=>{r.style.width=i+"%"},200)}}})},e);document.querySelectorAll(".skill-card, .career-item, .project-card").forEach(function(n){if(n.style.opacity="0",n.style.transform="translateY(40px)",n.style.transition="all 0.8s ease",t.observe(n),n.classList.contains("skill-card")){const o=n.querySelector(".skill-progress");if(o){const r=o.getAttribute("data-width");n.addEventListener("mouseenter",function(){o.style.width="100%",o.style.transition="width 0.8s ease"}),n.addEventListener("mouseleave",function(){o.style.width=r+"%",o.style.transition="width 0.6s ease"})}}})}function b(){const e=document.getElementById("particles");if(!e)return;const t=new IntersectionObserver(function(s){s.forEach(function(n){if(n.isIntersecting){const o=n.target.dataset.particles==="true";e.style.opacity=o?"0.6":"0"}})},{threshold:.5});document.querySelectorAll("section").forEach(function(s){t.observe(s)})}function E(){console.log("팝업 초기화 시작");const e={wattsup:{title:"WattsUp Dashboard",subtitle:"에너지 데이터 시각화 플랫폼",description:"한국전력 API를 활용하여 실시간 에너지 사용량을 모니터링하고 에너지 거래를 할 수 있는 플랫폼입니다. 사용자는 직관적인 대시보드를 통해 에너지 소비 패턴을 분석하고, 효율적인 에너지 관리를 할 수 있습니다.",features:["실시간 에너지 사용량 모니터링","에너지 거래 및 매매 기능","사용량 분석 및 리포트 생성","반응형 대시보드 인터페이스"],tech:["React","Next.js","TypeScript","Recharts","Tailwind CSS"],github:"https://github.com/zerozeroha",demo:"#"},survey:{title:"SurveyGacha",subtitle:"설문조사 플랫폼",description:"설문 참여 시 포인트를 획득하여 다양한 보상을 받을 수 있는 재미있는 설문조사 플랫폼입니다. 게임적 요소를 도입하여 사용자 참여도를 높였습니다.",features:["설문 참여 포인트 시스템","가챠 시스템으로 보상 획득","다양한 설문 유형 지원","실시간 결과 확인"],tech:["React","TypeScript","Zustand","Supabase"],github:"https://github.com/zerozeroha",demo:"#"},carini:{title:"CARINI Web",subtitle:"지도 기반 차량 탐색 플랫폼",description:"카카오맵 API를 활용하여 사용자 위치 기반으로 주변 중고차 매물을 쉽게 검색할 수 있는 플랫폼입니다. 지도 인터페이스로 직관적인 차량 검색이 가능합니다.",features:["위치 기반 차량 검색","카카오맵 API 연동","실시간 매물 정보 업데이트","필터 기능으로 조건별 검색"],tech:["JavaScript","Kakao Map API","Spring Boot","MySQL"],github:"https://github.com/zerozeroha",demo:"#"}},t=document.getElementById("project-popup"),s=document.getElementById("popup-body"),n=document.querySelector(".popup-close");if(console.log("popup:",t),console.log("popupBody:",s),console.log("closeBtn:",n),!t||!s||!n){console.error("팝업 요소들을 찾을 수 없습니다!");return}const o=document.querySelectorAll(".project-card");console.log("프로젝트 카드 개수:",o.length),o.forEach(function(c,l){const a=c.getAttribute("data-project");console.log(`카드 ${l}: data-project = ${a}`),c.addEventListener("click",function(){console.log("카드 클릭됨:",a);const u=e[a];u?r(u):console.error("프로젝트 데이터를 찾을 수 없음:",a)})});function r(c){console.log("팝업 표시:",c.title);const l=`
      <h2 class="popup-title">${c.title}</h2>
      <p class="popup-subtitle">${c.subtitle}</p>
      <p class="popup-description">${c.description}</p>

      <div class="popup-features">
        <h4>주요 기능</h4>
        <ul>
          ${c.features.map(a=>`<li>• ${a}</li>`).join("")}
        </ul>
      </div>

      <div class="popup-tech">
        ${c.tech.map(a=>`<span>${a}</span>`).join("")}
      </div>

      <div class="popup-links">
        <a href="${c.github}" class="popup-link" target="_blank">
          <i class="fab fa-github"></i> GitHub
        </a>
        <a href="${c.demo}" class="popup-link" target="_blank">
          <i class="fas fa-external-link-alt"></i> Demo
        </a>
      </div>
    `;s.innerHTML=l,t.style.display="block",document.body.style.overflow="hidden"}function i(){t.style.display="none",document.body.style.overflow="auto"}n.addEventListener("click",i),t.addEventListener("click",function(c){c.target===t&&i()}),document.addEventListener("keydown",function(c){c.key==="Escape"&&t.style.display==="block"&&i()})}window.addEventListener("resize",function(){clearTimeout(window.resizeTimeout),window.resizeTimeout=setTimeout(function(){window.innerWidth!==window.lastWidth&&(window.lastWidth=window.innerWidth,d())},250)});document.addEventListener("visibilitychange",function(){document.hidden?console.log("페이지 숨김 - 애니메이션 일시정지"):console.log("페이지 표시 - 애니메이션 재시작")});
